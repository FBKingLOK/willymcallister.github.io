---
layout: article
title:  "Inductor kickback"
author: Willy McAllister
comments: true
---

The inductor is one of the [ideal circuit elements]({{ site.baseurl }}{% link _articles/ideal-elements-and-sources.md %}#inductor). We learn more about how an inductor behaves by looking closely at its $i$-$v$ equation.

Written by Willy McAllister.

----

### Contents
{:.no_toc}

* Will be replaced with the ToC
{:toc}

----

### Where we're headed 
{:.no_toc}

* When an inductor is connected to a switch, there is a paradox when the switch is thrown open. Where does the inductor current go? 

* We show how to protect sensitive components from high voltages generated by an inductor.

---

## Inductor and a switch

Now we give the integral form of the inductor equation a try as we analyze this circuit with a switch.

![](https://ka-perseus-images.s3.amazonaws.com/f3a1e6701ede6e463480e70e99b852bc3d074d5e.svg){: .centered :}{: height="200px"}

The circuit has a voltage source in series with our $10\,\text{mH}$ inductor, plus a push-button switch $(\text{pb})$. The top terminal of the inductor is at a constant $3\,\text V$ above ground. The name of the voltage across the inductor is $v_\text L$. Let's name the voltage across the switch: $v_\text{pb}$. This is also the voltage of the bottom terminal of the inductor. 

We press the pushbutton at $t=0$, which completes the circuit and allows current to flow. Let's figure out the current $\blueD{i}$ through the inductor, this time using the integral form of the inductor equation.

![](https://ka-perseus-images.s3.amazonaws.com/cf28bf4890e28c084e93061596863be1d20e7aed.svg){: .centered :}{: height="200px"}

### Before the switch is pressed

We'll assume the initial current through the inductor is zero: $i(0) = 0$ because prior to $t=0$ the switch was not pushed and the circuit was open.

### After the switch is pressed

We press the pushbutton switch at time $t=0$. 

![](https://ka-perseus-images.s3.amazonaws.com/3eadb471c26193eef55d1e9ce5d74298421a581b.svg){: .centered :}{: height="200px"}

At the moment we press the switch, $v_{\text{pb}}$ goes to $0\,\text V$. $+3\,\text V$ from the source is now connected across the inductor, and current begins to flow. The current starts at $0$ and gradually grows while inductor integrates its voltage according to the inductor equation:

$\displaystyle i(t) = \dfrac1{\text L}\, \int_{\,0}^{\,t} v(x)\,\text dx + i(0)$

<details>
<summary>$v(x) dx$</summary>
<p>The expression inside the integral, $v(x) dx$ looks a little odd. $x$ is doing a favor for us by playing the role of instantaneous time, while $t$ is the total time the button has been held down. The reason we need $x$ (or any other variable name besides $t$) is because we want variable $t$ to be the upper limit of the definite integral. $x$ will disappear when we compute the definite integral, leaving us with current as a function of total time. $x$ is called a <em>dummy variable of integration</em>.</p>
</details>

The limit $t$ on the integral is the amount of time the switch has been held down. As long as the switch remains pressed, the inductor integrates (sums up) the voltage and the current continues to rise. 

We can fill in the variables we know, $\text L$ and $v$:

$\displaystyle i(t) = \dfrac1{10\,\text{mH}}\, \int_{\,0}^{\,t} 3\,\text dx + 0$

This integral evaluates to just $x$. We evaluate $x$ between the limits $0$ and $t$.

$\displaystyle i(t) = \dfrac{3\text V}{10\,\text{mH}}\,\, x\,\bigg  \|_{\,0}^{\,t}$

$\displaystyle i(t) = \dfrac{3\text V}{10\,\text{mH}}\,\, [ \,t - 0\,]$

$i(t) = \dfrac{3\text V}{10\,\text{mH}}\,\,t$

This is the equation of a line, valid while the switch is pressed. The slope of the line is:

 $\dfrac{3\,\text V}{0.010\,\text H} = 300\,\text{amps/second}$

As long as the switch is closed, the current in the inductor increases $300$ amperes every second,

![Inductor current ramp]({{ site.baseurl }}{% link i/inductor_in_action_current_ramp.svg %}){: .centered :}

All that energy in the current is being stored in the inductor's magnetic field.

As an explicit example we will use this in a moment:  $0.002$ seconds $(2\,\text{ms})$ after the switch is pushed, the current will rise to $300\cdot 0.002 = 0.6\,\text{amps}$ or $600 \,\text{mA}$.

*The current gradually rises (or falls) as an inductor integrates its voltage over time.*

This is the same result we got using the derivative form of the inductor equation.

![](https://ka-perseus-images.s3.amazonaws.com/ca18808da0acfaa894e948bcee44de78d06ced3d.svg){: .centered :}{: height="200px"}

We should probably let go of the switch at some point. 

### Release the switch

Let's say we release the button at $t=2\,\text{ms}$ and the switch opens. Let's find out what happens by reviewing the derivative form of the inductor equation:

$v = \text L\,\dfrac{di}{dt}$

When we release the push-button, we expect the current to instantly change from $600 \,\text{mA}$ to $0\,\text{mA}$. But wait a second. This means $i$ changes from a finite value to $0$ amps in $0$ time. 

The derivative of current, $di/dt$, is $\dfrac{0-600}{0}$, or infinity! 

The inductor equation predicts $v$ will be infinite! Can that happen? No, it cannot. The current in an inductor cannot change instantaneously because it implies an infinite voltage will exist, which isn't going to happen. This reluctance to change is because of the energy stored in the inductor's magnetic field.

<details>
<summary>analogy to mass</summary>
<p>Inductance is analogous to mass or inertia in a mechanical system. The energy in the magnetic field of an inductor doesn't allow the current to change instantaneously, just like the mass of the car tends to resist changes in velocity. A car cannot be stopped or started instantaneously. An inductor is basically the electrical version of Newton's First Law of Motion (also called the Law of Inertia): A body in motion tends to stay in motion.</p>
</details>

*The current in an inductor does not (will not) change instantaneously.*

We have a puzzle on our hands. We opened the switch while current flowed in the inductor. The open switch means there is no place for current to flow. What happens to the inductor current that insists on flowing?

### What happens in an ideal circuit? 

This is a mess. We have all the current and voltage we want, but this situation breaks the ideal models because we created an impossible fight: the current has to be zero and finite at the same time. We've reached the limits of our ideal models. This makes my head hurt.

### What happens in a real-life circuit? 

When the switch opens at $t=2\,\text{ms}$, we expect the current to change from $600\,\text{mA}$ to $0\,\text{mA}$ in $0$ time. Let's not be greedy. Let's say it's okay for the switch to take $1\,\mu\text{sec}$ to go from closed to open. The voltage we would see across the inductor is:

$v_{\text L} = \text L \,\dfrac{di}{dt}$

$v_\text L = 10\, \text{mH} \cdot\dfrac{(0-600\,\text{mA})}{1\,\mu\text{sec}} = 10\times 10^{-3}\cdot \dfrac{-600\times 10^{-3}}{10^{-6}}$

$v_\text L = -6{,}000 \,\text{volts} \,!!$ 

The inductor voltage gets huge! The $+$ terminal of the inductor is $+3$ volts above ground. The $-$ sign on $v_{\text L}$ means the negative terminal of the inductor is $6000$ volts *above* the positive terminal. 

That makes $v_{\text{pb}} = 3 + 6000 = +6003\,\text{volts}$. 

![](https://ka-perseus-images.s3.amazonaws.com/e0d4e4ba5f8a3fb30770a298063a0b8d74d66c43.svg){: .centered :}{: height="200px"}

Does this really happen? 

When the voltage gets this high what actually happens is a spark arcs across the air gap between the push-button contacts. The energy in the magnetic field is released in a brief bright burst of light. In fact, if you want to generate a spark, this is one of the best ways to do it.

<details>
<summary>air breakdown</summary>
<p>Although air is normally a very good insulator, a high voltage  can break down air. When the electric field is about $3000$ volts across an air gap of $1$ millimeter, air becomes partially conductive. If the voltage goes higher, the air breaks down completely and becomes conductive. The electric field is strong enough to rip electrons away from oxygen and nitrogen molecules. That's when an electrical spark or arc bridges across the gap. </p>

<p><img src="https://ka-perseus-images.s3.amazonaws.com/a82bb3590cee9639c715ecfe9175b51b379d2b77.gif"></p>

<p>from: Wikipedia <a href="https://en.wikipedia.org/wiki/Electrical_breakdown">Electrical breakdown</a></p>.
</details>

![](https://ka-perseus-images.s3.amazonaws.com/cf4f1500138018ba9d004199dcf4fdb4d8ea8377.svg){: .centered :}{: height="200px"}

In a real-life version of our example circuit, the spark starts at a around $3000$ volts. If you have a physically tough switch, it can withstand the spark. But if the switch is fragile (like you use a transistor as a switch), there's a good chance the high voltage will destroy it. 

Our paradox: How can there be a finite inductor current at the same time as an open circuit? In real life, the paradox is resolved by the inductor winning and the open circuit losing. The open switch was compelled to be not open for the duration of the spark. 

![](https://ka-perseus-images.s3.amazonaws.com/cca7161cbb4e4e66da4e3fe0a17ea8faa4064808.svg){: .centered :}{: height="200px"}

<details>
<summary>Should I fear inductors?</summary>
<p>You don't need to be afraid of inductors, but you should respect them. Inductors are energy storage devices, just like capacitors are energy storage devices. If you release the energy all at once, there might be a boom!</p>
</details>

Current sources and inductors may seem unusually hazardous, but no more so than other devices. This mostly because of our lack of familiarity with current sources, since they are not as common as voltage sources. Most of us know it's a bad idea to put a short across a voltage source. Don't stick a fork into a wall plug or you get a ton of current. It is also a bad idea to short out an energized capacitor, since, in the short term, a capacitor acts like a voltage source. 

Current sources are the opposite of voltage sources. They do fine with a short circuit, but they don't like to be open circuited. An inductor with a flowing current acts a lot like a current source. If you open an inductor that's storing a lot of energy, you get a ton of voltage. It may seem strange, to think an open circuit can cause problems, but it does when inductors are involved. The inductor and switch circuit discussed here is the most common place where it becomes a significant issue.

---

You may stop reading here if you want. You have a good understanding of how the two forms of the inductor equation work. This next optional section describes how to design around the voltage spike from an inductor. 

To get the most from this description it helps if you are familiar with how a [diode](w/a/ee-diode) works. A diode conducts current in one direction but not in the opposite direction.

---

How do we avoid having our circuit destroyed by the voltage spike from an inductor? When designing a circuit with a switched inductor, we think ahead and make sure current always has a place to flow. 

## Give current a place to flow

The problem we face with inductors is they don't like sudden open circuits. Here is one way to deal with the design challenge: provide an alternate path for current.

If we add a [diode](w/a/ee-diode) in parallel with the inductor, it solves the voltage spike problem in a neat way. The diode provides a path for inductor current when the switch opens, preventing sparks and damage. 

![](https://ka-perseus-images.s3.amazonaws.com/7da2056d17f5c82a4e10e7a107c7a173469f6879.svg){: .centered :}{: height="200px"}

The first thing to notice is the direction the diode is facing: its forward current arrow is pointing up. Current will only flow *up* through the diode.

Before the switch is closed, there is no current flowing anywhere, so there is $0$ volts across the inductor and diode. $v_{\text{pb}}$ has a value of $3\,\text V$.
### Close the switch

When the switch is closed, the current flows down through the inductor and switch, just like it did without the diode:

![](https://ka-perseus-images.s3.amazonaws.com/0d982ccb9fefa75f52d37ca028edbb68d6c6e27e.svg){: .centered :}{: height="200px"}

**What is the voltage across the diode when the switch closes?** 

$v_{\text{L}} = \,$ \_\_\_\_\_\_ $\,\text V$

<details>
<summary>show answer</summary>
<p>The voltage across the diode is the same as the inductor, $v_{\text L} = 3\,\text V$.</p>
</details>

**Is the diode forward biased or reverse biased?** 

<details>
<summary>show answer</summary>
<p>The  diode is reverse biased because the anode is at a negative voltage with respect to the cathode.</p>
<p><img src="https://ka-perseus-images.s3.amazonaws.com/75821455e232b104c14e9fdd6a6180b1526f63d6.svg" height="200px"> </p>

</details> 

**What is the approximate diode current?** 

$i_{\text{diode}}\approx$ \_\_\_\_\_\_$\,\text A$

<details>
<summary>show answer</summary>
<p>When the diode is reverse biased the current is very close to $0$.</p>

<p>With no current in the diode, it's as if the diode isn't even there. When the switch is closed, the diode has no impact on the current or voltage elsewhere in the circuit.</p>
</details> 

![](https://ka-perseus-images.s3.amazonaws.com/e6afd5c9b0c9946c5d3d580e2cb5f00fc9737b3d.svg){: .centered :}{: height="200px"}

### Release the switch

Now we release the push-button switch and it opens. The diode does something clever for us. Before, when there was no diode, the opened switch caused $v_{\text{pb}}$ to spike up to a huge positive voltage. 

![](https://ka-perseus-images.s3.amazonaws.com/64e5267b794ce2166f73e0668482fba71cd8a7c8.svg){: .centered :}{: height="200px"}

With the diode in place, when the switch opens, there is a big $di/dt$, which makes $v_{\text{pb}}$ rapidly head towards a positive value, just like it did with no diode.

**When $v_{\text{pb}}$ rises above $3$ volts plus about $0.7$ volts, what happens to the diode?** (Choose all that apply.)

* The diode becomes forward biased.
* The diode starts to conduct.

<details>
<summary>show answer</summary>
<p>The diode becomes forward biased when the voltage across its terminals is positive in the forward conducting direction (its anode is at a higher voltage than the cathode).</p>

<p><img src="https://ka-perseus-images.s3.amazonaws.com/8e33697a5b72b50177b2573f0287662ddc0cb016.svg" height="200px"></p>

<p>When the voltage at the diode's bottom terminal gets up to $3$ volts plus an additional  $\sim0.7$ volts, <em>the diode starts to conduct!</em> </p>
</details>

The diode provides a path for the inductor to let its current continue to flow, without the need to spark across the switch contacts. The diode's $i$-$v$ characteristic prevents the voltage from getting much greater than this. $v_{\text{pb}}$ goes up to $3.7$ volts or perhaps a little bit higher. The diode *clamps* the voltage at this value, preventing the dreaded arc. Everybody is happy. 

In real life, the inductor current, $\blueD i$, circulates around through the diode for as long as needed until the resistance of the inductor wiring dissipates the energy as heat. The diode prevents a major inductive voltage spike and protects the surrounding components.






## Summary
{:.no_toc}

The current in an inductor does not change instantaneously.

When its current is constant, an inductor looks like a short circuit.

Be careful making circuits with an inductor. A sudden changed in current, like a switch thrown open, breaking a current path, that means the derivative of current, $di/dt$, can become very large. The inductor equation tells us there can be a large voltage generated across the inductor. 

One way to deal with potentially destructive inductor voltage is to design a path for the current, so you don't get a large $di/dt$. We showed how to add a diode to provide a current path and clamp the inductor voltage to an acceptable value  when a switch was thrown open.
